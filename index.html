<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interactive Data Storytelling – Adult Income Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

</head>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
    body {
        background: linear-gradient(-45deg, #0f0c29, #302b63, #24243e);
        background-size: 600% 600%;
        animation: gradientBG 20s ease infinite;
    }

    @keyframes gradientBG {
        0% {
            background-position: 0% 50%;
        }

        50% {
            background-position: 100% 50%;
        }

        100% {
            background-position: 0% 50%;
        }
    }


    h2,
    p {
        color: #FFFFFF;
    }





    .rounded {
        border-radius: 12px !important;
    }

    .kpi-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.37);
        color: #fff;
        transition: transform 0.4s ease, box-shadow 0.4s ease;
    }

    .kpi-card:hover {
        transform: translateY(-4px) scale(1.02);
        box-shadow: 0 16px 48px rgba(0, 0, 0, 0.5);
    }



    .plotly .main-svg {
        color: #00ff99 !important;
    }

    .container {
        max-width: 95%;
    }


    .animate-fade-in-up {
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInUp 1s ease-out forwards;
    }

    .animate-delay-1 {
        animation-delay: 0.2s;
    }

    .animate-delay-2 {
        animation-delay: 0.4s;
    }

    .animate-delay-3 {
        animation-delay: 0.6s;
    }

    .animate-delay-4 {
        animation-delay: 0.8s;
    }

    @keyframes fadeInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Smooth transition for collapse */
    .collapse:not(.show) {
        display: block;
        height: 0;
        overflow: hidden;
        transition: height 0.5s ease;
    }

    .collapse.show {
        height: auto;
        transition: height 1s ease;
    }
</style>
<script>
    AOS.init({ duration: 800, easing: 'ease-out-cubic', once: true });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
<script>
    gsap.from('.kpi-card', {
        y: 30,
        opacity: 0,
        duration: 1,
        ease: 'power3.out',
        stagger: 0.2
    });
</script>


<body class="">
    <!-- Project Summary (Collapsible) -->
    <div class="mb-4">
        <button class="btn btn-outline-success w-100 mb-3" type="button" data-bs-toggle="collapse"
            data-bs-target="#projectSummary" aria-expanded="false" aria-controls="projectSummary">
            📘 Project Overview – Click to Expand/Collapse
        </button>
        <div class="collapse" id="projectSummary">
            <div class="bg-dark text-success p-4 rounded" style="line-height: 1.6;">
                <h3 class="text-success">🧪 Project Title:</h3>
                <p><strong> Income Dashboard – Interactive Data Storytelling</strong></p>

                <h4>🎯 Project Objective:</h4>
                <p>To use interactive data visualizations and a cyberpunk-themed UI to tell a compelling story using
                    real-world census data. The goal was not just to show charts, but to make the data engaging,
                    insightful, and accessible, especially for users without a data science background.</p>

                <h4>📦 Tools & Technologies Used:</h4>
                <ul>
                    <li><strong>Data parsing:</strong> PapaParse – browser-based CSV reading</li>
                    <li><strong>Charting:</strong> Plotly.js – interactive charts</li>
                    <li><strong>UI Framework:</strong> Bootstrap 5 – responsive layout</li>
                    <li><strong>Typography/Styling:</strong> Google Fonts (Share Tech Mono), custom CSS</li>
                    <li><strong>Animation:</strong> CSS keyframes, Plotly transitions</li>
                    <li><strong>Carousel Interactivity:</strong> Bootstrap Carousel API</li>
                    <li><strong>Theme:</strong> Dark cyberpunk aesthetic (#000 background, neon green #00ff99)</li>
                </ul>

                <h4>📊 Dataset Details:</h4>
                <p><strong>Source:</strong> UCI Adult Income Dataset (cleaned)</p>
                <p><strong>File:</strong> adult_clean.csv</p>
                <ul>
                    <li>Demographic: age, education, marital status</li>
                    <li>Work-related: hours per week, occupation</li>
                    <li><strong>Target:</strong> Income (&gt;50K or &lt;=50K)</li>
                </ul>

                <h4>📈 Dashboard Features:</h4>
                <ol>
                    <li><strong>KPI Summary Cards:</strong> Total entries, % >50K income, Avg. work hours (with
                        animation)</li>
                    <li><strong>Donut Chart:</strong> Visualizes overall income distribution</li>
                    <li><strong>Bar Chart:</strong> Compares income across education levels</li>
                    <li><strong>Line Chart:</strong> Tracks % earning >50K by age</li>
                    <li><strong>Scatter Plot:</strong> Displays Age vs Work Hours, colored by income level</li>
                </ol>


                <h4>🧠 Learning Outcomes:</h4>
                <ul>
                    <li>Data storytelling using real-world datasets</li>
                    <li>Frontend data visualization using Plotly and JS</li>
                    <li>Performance optimization using lazy load strategies</li>
                    <li>No backend required – pure frontend deployment</li>
                </ul>


                <!-- FULL STORY SECTION INSERTED HERE -->
                <h3 class="text-white">📰 Headline: "Visual Evidence: What the Data Reveals About Earnings"</h3>
                <p><strong>Education, Age, and Work Hours Heavily Influence Income Distribution in the U.S.</strong></p>

                <h4>🔍 Highlights:</h4>
                <ul>
                    <li>🟢 Only a minority earn >$50K annually, as seen in the Donut Chart.</li>
                    <li>📚 Higher education leads to higher income potential — clear in the Bar Chart.</li>
                    <li>📈 Prime earning ages are 38–50, peaking income probability in the Line Chart.</li>
                    <li>🧑‍💼 Longer work hours don't always guarantee high income — visible in Scatter Plot.</li>
                </ul>

                <h4>💬 Captions & Callouts:</h4>
                <ul>
                    <li><strong>Donut Chart:</strong> “A clear income imbalance: majority earn ≤$50K.”</li>
                    <li><strong>Bar Chart:</strong> “Doctorate/Masters: most likely to earn >$50K. High school grads:
                        mostly ≤$50K.”</li>
                    <li><strong>Line Chart:</strong> “Peak income rates between ages 38–50, drops after 55.”</li>
                    <li><strong>Scatter Plot:</strong> “No strong correlation between age and hours worked vs income
                        category.”</li>
                </ul>

                <h4>🤯 Surprises in the Data:</h4>
                <ul>
                    <li>Highly educated individuals still present in ≤$50K group.</li>
                    <li>Many 30–40 year olds earn less despite being in prime work age.</li>
                    <li>Workload doesn't always match earnings — red markers present even at high hour counts.</li>
                </ul>

                <h4>👀 Where to Pay Attention:</h4>
                <ul>
                    <li>The income drop after age 50</li>
                    <li>The stark contrast between education levels and income</li>
                    <li>Outliers in the scatter plot working long hours but still low earners</li>
                </ul>

                <h4>💼 Real-World Use Cases:</h4>
                <ul>
                    <li><strong>Workforce Planning:</strong> Identify demographics that could benefit from reskilling.
                    </li>
                    <li><strong>Education Policy:</strong> Justify funding for higher education access and adult
                        learning.</li>
                    <li><strong>Career Guidance:</strong> Help students choose education paths with better pay outcomes.
                    </li>
                    <li><strong>Social Policy:</strong> Address overworking with low return through labor reform
                        insights.</li>
                </ul>

                <h4>🧠 Summary:</h4>
                <p>This dashboard transforms raw census data into an interactive story using compelling visuals. The
                    user can uncover who earns more, how education impacts income, and how work effort translates into
                    results — all through a cyberpunk-inspired experience that bridges data and design.</p>
            </div>
        </div>
    </div>

    <div class="container py-4">
        <h2 class="text-center mb-2">Adult Income Dashboard</h2>
        <p class="text-center ">Exploring income distribution by demographics using census data</p>

        <!-- KPI Cards -->
        <div class="row my-4 text-center" id="kpis">
            <div class="col-md-4">
                <div class="p-3 bg-white shadow rounded">Total Entries: <strong id="totalCount"></strong></div>
            </div>
            <div class="col-md-4">
                <div class="p-3 bg-white shadow rounded">% >50K Income: <strong id="richPct"></strong></div>
            </div>
            <div class="col-md-4">
                <div class="p-3 bg-white shadow rounded">Avg. Work Hours: <strong id="avgHours"></strong></div>
            </div>
        </div>

        <!-- Charts -->
        <div class="row">
            <div class="col-md-12 mb-4">
                <div id="donutChart"></div>
            </div>
            <div class="col-md-12 mb-4">
                <div id="barChart"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 mb-4">
                <div id="lineChart"></div>
            </div>
            <div class="col-md-12 mb-4">
                <div id="scatterPlot"></div>
            </div>
        </div>


        <!-- New Charts for Race, Marital Status, and Gender -->
        <div class="row">
            <div class="col-md-12 mb-4">
                <div id="raceChart"></div>
            </div>
            <div class="col-md-12 mb-4">
                <div id="maritalChart"></div>
            </div>
            <div class="col-md-12 mb-4">
                <div id="genderChart"></div>
            </div>
        </div>


        <!-- All Charts Combined -->
        <div class="row">
            <div class="col-md-12 mb-4">
                <div id="combinedChart"></div>
            </div>
        </div>


    </div>

    <script>
        function animateCount(id, target, duration = 1500) {
            let start = 0;
            const element = document.getElementById(id);
            const stepTime = Math.abs(Math.floor(duration / target));
            const timer = setInterval(() => {
                start++;
                element.textContent = start;
                if (start >= target) {
                    element.textContent = target;
                    clearInterval(timer);
                }
            }, stepTime);
        }

        Papa.parse("adult_clean.csv", {
            download: true,
            header: true,
            complete: function (results) {
                const data = results.data.filter(row => row.age && row.income && row["hours_per_week"]);

                const total = data.length;
                const rich = data.filter(d => d.income.trim() === ">50K");
                const avgHours = (data.reduce((sum, d) => sum + Number(d["hours_per_week"]), 0) / total).toFixed(1);

                document.getElementById("totalCount").textContent = total;

                animateCount("avgHours", Math.round(avgHours));
                document.getElementById("richPct").textContent = ((rich.length / total) * 100).toFixed(2) + "%";

                // Donut Chart – Income Distribution
                const incomeCounts = data.reduce((acc, row) => {
                    acc[row.income] = (acc[row.income] || 0) + 1;
                    return acc;
                }, {});
                Plotly.newPlot("donutChart", [{
                    labels: Object.keys(incomeCounts),
                    values: Object.values(incomeCounts),
                    type: 'pie',
                    hole: 0.5
                }], {
                    title: "Income Distribution",
                    transition: { duration: 500, easing: "cubic-in-out" }
                });

                // Bar Chart – Income by Education
                const eduIncome = {};
                data.forEach(row => {
                    const key = row.education;
                    if (!eduIncome[key]) eduIncome[key] = { ">50K": 0, "<=50K": 0 };
                    eduIncome[key][row.income] += 1;
                });
                const educations = Object.keys(eduIncome);
                Plotly.newPlot("barChart", [
                    {
                        x: educations,
                        y: educations.map(k => eduIncome[k][">50K"] || 0),
                        name: ">50K",
                        type: "bar"
                    },
                    {
                        x: educations,
                        y: educations.map(k => eduIncome[k]["<=50K"] || 0),
                        name: "<=50K",
                        type: "bar"
                    }
                ], {
                    barmode: 'group',
                    title: "Income by Education",
                    xaxis: { title: "Education" },
                    yaxis: { title: "Count" },
                    transition: { duration: 700, easing: "cubic-in-out" }
                });

                // Line Chart – Age vs % High Income
                const ageIncomeMap = {};
                data.forEach(row => {
                    const age = parseInt(row.age);
                    if (!ageIncomeMap[age]) ageIncomeMap[age] = { total: 0, rich: 0 };
                    ageIncomeMap[age].total++;
                    if (row.income.trim() === ">50K") ageIncomeMap[age].rich++;
                });
                const ages = Object.keys(ageIncomeMap).map(Number).sort((a, b) => a - b);
                const richRates = ages.map(a => (ageIncomeMap[a].rich / ageIncomeMap[a].total) * 100);

                Plotly.newPlot("lineChart", [{
                    x: ages,
                    y: richRates,
                    type: 'scatter',
                    mode: 'lines+markers',
                    line: { shape: 'spline' }
                }], {
                    title: "% Earning >50K by Age",
                    xaxis: { title: "Age" },
                    yaxis: { title: "% >50K Income" },
                    transition: { duration: 600, easing: "cubic-in-out" }
                });

                // Scatter Plot – Age vs Hours per Week
                Plotly.newPlot("scatterPlot", [{
                    x: data.map(d => +d.age),
                    y: data.map(d => +d.hours_per_week),
                    mode: 'markers',
                    marker: { color: data.map(d => d.income === ">50K" ? "green" : "red"), opacity: 0.5 },
                }], {
                    title: "Age vs Hours Worked per Week",
                    xaxis: { title: "Age" },
                    yaxis: { title: "Hours per Week" },
                    transition: { duration: 500, easing: "cubic-in-out" }
                });
            }
        });





        function animateCount(id, target, duration = 1500) {
            let start = 0;
            const element = document.getElementById(id);
            const stepTime = Math.abs(Math.floor(duration / target));
            const timer = setInterval(() => {
                start++;
                element.textContent = start;
                if (start >= target) {
                    element.textContent = target;
                    clearInterval(timer);
                }
            }, stepTime);
        }

        Papa.parse("adult_clean.csv", {
            download: true,
            header: true,
            complete: function (results) {
                const data = results.data.filter(row => row.age && row.income && row["hours_per_week"]);

                const total = data.length;
                const rich = data.filter(d => d.income.trim() === ">50K");
                const avgHours = (data.reduce((sum, d) => sum + Number(d["hours_per_week"]), 0) / total).toFixed(1);

                document.getElementById("totalCount").textContent = total;
                animateCount("avgHours", Math.round(avgHours));
                document.getElementById("richPct").textContent = ((rich.length / total) * 100).toFixed(2) + "%";

                // Donut, Bar, Line, Scatter (unchanged)
                // ... existing chart logic ...

                // Race Chart
                const raceIncome = {};
                data.forEach(row => {
                    const key = row.race;
                    if (!raceIncome[key]) raceIncome[key] = { ">50K": 0, "<=50K": 0 };
                    raceIncome[key][row.income] += 1;
                });
                const races = Object.keys(raceIncome);
                Plotly.newPlot("raceChart", [
                    {
                        x: races,
                        y: races.map(r => raceIncome[r][">50K"]),
                        name: ">50K",
                        type: "bar"
                    },
                    {
                        x: races,
                        y: races.map(r => raceIncome[r]["<=50K"]),
                        name: "<=50K",
                        type: "bar"
                    }
                ], {
                    barmode: 'group',
                    title: "Income by Race",
                    xaxis: { title: "Race" },
                    yaxis: { title: "Count" }
                });

                // Marital Status Chart
                const maritalIncome = {};
                data.forEach(row => {
                    const key = row.marital_status;
                    if (!maritalIncome[key]) maritalIncome[key] = { ">50K": 0, "<=50K": 0 };
                    maritalIncome[key][row.income] += 1;
                });
                const maritalKeys = Object.keys(maritalIncome);
                Plotly.newPlot("maritalChart", [
                    {
                        x: maritalKeys,
                        y: maritalKeys.map(m => maritalIncome[m][">50K"]),
                        name: ">50K",
                        type: "bar"
                    },
                    {
                        x: maritalKeys,
                        y: maritalKeys.map(m => maritalIncome[m]["<=50K"]),
                        name: "<=50K",
                        type: "bar"
                    }
                ], {
                    barmode: 'group',
                    title: "Income by Marital Status",
                    xaxis: { title: "Marital Status" },
                    yaxis: { title: "Count" }
                });

                // Gender Chart
                const genderIncome = {};
                data.forEach(row => {
                    const key = row.sex;
                    if (!genderIncome[key]) genderIncome[key] = { ">50K": 0, "<=50K": 0 };
                    genderIncome[key][row.income] += 1;
                });
                const genders = Object.keys(genderIncome);
                Plotly.newPlot("genderChart", [
                    {
                        x: genders,
                        y: genders.map(g => genderIncome[g][">50K"]),
                        name: ">50K",
                        type: "bar"
                    },
                    {
                        x: genders,
                        y: genders.map(g => genderIncome[g]["<=50K"]),
                        name: "<=50K",
                        type: "bar"
                    }
                ], {
                    barmode: 'group',
                    title: "Income by Gender",
                    xaxis: { title: "Gender" },
                    yaxis: { title: "Count" }
                });
            }
        });
    </script>

    <script>
        function animateCount(id, target, duration = 1500) {
            let start = 0;
            const element = document.getElementById(id);
            const stepTime = Math.abs(Math.floor(duration / target));
            const timer = setInterval(() => {
                start++;
                element.textContent = start;
                if (start >= target) {
                    element.textContent = target;
                    clearInterval(timer);
                }
            }, stepTime);
        }

        Papa.parse("adult_clean.csv", {
            download: true,
            header: true,
            complete: function (results) {
                const data = results.data.filter(row => row.age && row.income && row["hours_per_week"]);
                const total = data.length;
                const rich = data.filter(d => d.income.trim() === ">50K");
                const avgHours = (data.reduce((sum, d) => sum + Number(d["hours_per_week"]), 0) / total).toFixed(1);
                document.getElementById("totalCount").textContent = total;
                animateCount("avgHours", Math.round(avgHours));
                document.getElementById("richPct").textContent = ((rich.length / total) * 100).toFixed(2) + "%";

                const categories = { "Race": {}, "Marital Status": {}, "Gender": {} };

                data.forEach(row => {
                    const race = row.race;
                    const marital = row.marital_status;
                    const gender = row.sex;

                    if (!categories["Race"][race]) categories["Race"][race] = { ">50K": 0, "<=50K": 0 };
                    if (!categories["Marital Status"][marital]) categories["Marital Status"][marital] = { ">50K": 0, "<=50K": 0 };
                    if (!categories["Gender"][gender]) categories["Gender"][gender] = { ">50K": 0, "<=50K": 0 };

                    categories["Race"][race][row.income] += 1;
                    categories["Marital Status"][marital][row.income] += 1;
                    categories["Gender"][gender][row.income] += 1;
                });

                const traces = [];
                Object.entries(categories).forEach(([dimension, values], idx) => {
                    const labels = Object.keys(values);
                    const more = labels.map(k => values[k][">50K"]);
                    const less = labels.map(k => values[k]["<=50K"]);

                    traces.push({
                        x: labels,
                        y: more,
                        type: 'bar',
                        name: `>50K (${dimension})`,
                        offsetgroup: idx
                    });
                    traces.push({
                        x: labels,
                        y: less,
                        type: 'bar',
                        name: `<=50K (${dimension})`,
                        offsetgroup: idx,
                        base: 0
                    });
                });

                Plotly.newPlot("combinedChart", traces, {
                    barmode: 'group',
                    title: "Combined View: Income by Race, Marital Status, and Gender",
                    xaxis: { title: "Groups" },
                    yaxis: { title: "Count" },
                    legend: { orientation: 'h', x: 0, y: -0.2 }
                });
            }
        });
    </script>
</body>

</html>